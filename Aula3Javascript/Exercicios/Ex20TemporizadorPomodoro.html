<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ex20TemporizadorPomodoro</title>
</head>
<body>

    <div id="cabecalho">
        <h2>Temporizador Pomodoro</h2>
        <p>
            Com a técnica pomodoro, você precisa realizar um trabalho de forma
            concentrada durante 20 minutos. Depois descança por 5 minutos e depois
            volta a fazer outro trabalho de 20 minutos.
        </p>
    </div>

    <div id="controles">
        <button onclick="iniciar()">Iniciar</button>
        <button onclick="parar()">Parar</button>
    </div>

    <div id="principal">
        <h1 id="relogio" class="relogio"> 20:00 </h1>
    </div>

    <script>
        //Status pomodoro = ['naoiniciado', '20minutos', '5minutos']
        var controlePomodoro = 'naoiniciado'
        var minutoAtual = 19
        var segundoAtual = 60
        var complementoSegundo = ''
        var complementoMinuto = ''
        var interval1 = null

        function atualizarMomento () {
            segundoAtual--

            if (segundoAtual === 0) {
                minutoAtual--
                segundoAtual = 59
            }

            if (segundoAtual < 10) {
                complementoSegundo = '0'
            } else {
                complementoSegundo = ''
            }
            if (minutoAtual < 10) {
                complementoMinuto = '0'
            } else {
                complementoMinuto = ''
            }

            if (minutoAtual === 0 && segundoAtual === 0) {
                clearInterval(interval1)
            }

            document.getElementById('relogio').textContent = complementoMinuto + minutoAtual + ':' + complementoSegundo + segundoAtual
            
        }

        function iniciar() {
            interval1 = setInterval( atualizarMomento, 1000 )
        }

        function parar() {
            clearInterval(interval1)
        }
        
    </script>

</body>
</html>